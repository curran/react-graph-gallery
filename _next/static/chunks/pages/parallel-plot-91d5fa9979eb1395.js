(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[479],{9465:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/parallel-plot",function(){return a(6865)}])},6865:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var l=a(5893),h=a(7294),p=a(153),i=a(9965),s=a(7262),n=a(3572),r=a(1122),d=a(6820),o=a(505),g=a(1664),c=a.n(g);let W=[{sepalLength:5.1,sepalWidth:3.5,petalLength:1.4,petalWidth:.2,group:"setosa"},{sepalLength:4.9,sepalWidth:3,petalLength:1.4,petalWidth:.2,group:"setosa"},{sepalLength:4.7,sepalWidth:3.2,petalLength:1.3,petalWidth:.2,group:"setosa"},{sepalLength:4.6,sepalWidth:3.1,petalLength:1.5,petalWidth:.2,group:"setosa"},{sepalLength:5,sepalWidth:3.6,petalLength:1.4,petalWidth:.2,group:"setosa"},{sepalLength:5.4,sepalWidth:3.9,petalLength:1.7,petalWidth:.4,group:"setosa"},{sepalLength:4.6,sepalWidth:3.4,petalLength:1.4,petalWidth:.3,group:"setosa"},{sepalLength:5,sepalWidth:3.4,petalLength:1.5,petalWidth:.2,group:"setosa"},{sepalLength:4.4,sepalWidth:2.9,petalLength:1.4,petalWidth:.2,group:"setosa"},{sepalLength:4.9,sepalWidth:3.1,petalLength:1.5,petalWidth:.1,group:"setosa"},{sepalLength:5.4,sepalWidth:3.7,petalLength:1.5,petalWidth:.2,group:"setosa"},{sepalLength:4.8,sepalWidth:3.4,petalLength:1.6,petalWidth:.2,group:"setosa"},{sepalLength:4.8,sepalWidth:3,petalLength:1.4,petalWidth:.1,group:"setosa"},{sepalLength:4.3,sepalWidth:3,petalLength:1.1,petalWidth:.1,group:"setosa"},{sepalLength:5.8,sepalWidth:4,petalLength:1.2,petalWidth:.2,group:"setosa"},{sepalLength:5.7,sepalWidth:4.4,petalLength:1.5,petalWidth:.4,group:"setosa"},{sepalLength:5.4,sepalWidth:3.9,petalLength:1.3,petalWidth:.4,group:"setosa"},{sepalLength:5.1,sepalWidth:3.5,petalLength:1.4,petalWidth:.3,group:"setosa"},{sepalLength:5.7,sepalWidth:3.8,petalLength:1.7,petalWidth:.3,group:"setosa"},{sepalLength:5.1,sepalWidth:3.8,petalLength:1.5,petalWidth:.3,group:"setosa"},{sepalLength:5.4,sepalWidth:3.4,petalLength:1.7,petalWidth:.2,group:"setosa"},{sepalLength:5.1,sepalWidth:3.7,petalLength:1.5,petalWidth:.4,group:"setosa"},{sepalLength:4.6,sepalWidth:3.6,petalLength:1,petalWidth:.2,group:"setosa"},{sepalLength:5.1,sepalWidth:3.3,petalLength:1.7,petalWidth:.5,group:"setosa"},{sepalLength:4.8,sepalWidth:3.4,petalLength:1.9,petalWidth:.2,group:"setosa"},{sepalLength:5,sepalWidth:3,petalLength:1.6,petalWidth:.2,group:"setosa"},{sepalLength:5,sepalWidth:3.4,petalLength:1.6,petalWidth:.4,group:"setosa"},{sepalLength:5.2,sepalWidth:3.5,petalLength:1.5,petalWidth:.2,group:"setosa"},{sepalLength:5.2,sepalWidth:3.4,petalLength:1.4,petalWidth:.2,group:"setosa"},{sepalLength:4.7,sepalWidth:3.2,petalLength:1.6,petalWidth:.2,group:"setosa"},{sepalLength:4.8,sepalWidth:3.1,petalLength:1.6,petalWidth:.2,group:"setosa"},{sepalLength:5.4,sepalWidth:3.4,petalLength:1.5,petalWidth:.4,group:"setosa"},{sepalLength:5.2,sepalWidth:4.1,petalLength:1.5,petalWidth:.1,group:"setosa"},{sepalLength:5.5,sepalWidth:4.2,petalLength:1.4,petalWidth:.2,group:"setosa"},{sepalLength:4.9,sepalWidth:3.1,petalLength:1.5,petalWidth:.2,group:"setosa"},{sepalLength:5,sepalWidth:3.2,petalLength:1.2,petalWidth:.2,group:"setosa"},{sepalLength:5.5,sepalWidth:3.5,petalLength:1.3,petalWidth:.2,group:"setosa"},{sepalLength:4.9,sepalWidth:3.6,petalLength:1.4,petalWidth:.1,group:"setosa"},{sepalLength:4.4,sepalWidth:3,petalLength:1.3,petalWidth:.2,group:"setosa"},{sepalLength:5.1,sepalWidth:3.4,petalLength:1.5,petalWidth:.2,group:"setosa"},{sepalLength:5,sepalWidth:3.5,petalLength:1.3,petalWidth:.3,group:"setosa"},{sepalLength:4.5,sepalWidth:2.3,petalLength:1.3,petalWidth:.3,group:"setosa"},{sepalLength:4.4,sepalWidth:3.2,petalLength:1.3,petalWidth:.2,group:"setosa"},{sepalLength:5,sepalWidth:3.5,petalLength:1.6,petalWidth:.6,group:"setosa"},{sepalLength:5.1,sepalWidth:3.8,petalLength:1.9,petalWidth:.4,group:"setosa"},{sepalLength:4.8,sepalWidth:3,petalLength:1.4,petalWidth:.3,group:"setosa"},{sepalLength:5.1,sepalWidth:3.8,petalLength:1.6,petalWidth:.2,group:"setosa"},{sepalLength:4.6,sepalWidth:3.2,petalLength:1.4,petalWidth:.2,group:"setosa"},{sepalLength:5.3,sepalWidth:3.7,petalLength:1.5,petalWidth:.2,group:"setosa"},{sepalLength:5,sepalWidth:3.3,petalLength:1.4,petalWidth:.2,group:"setosa"},{sepalLength:7,sepalWidth:3.2,petalLength:4.7,petalWidth:1.4,group:"versicolor"},{sepalLength:6.4,sepalWidth:3.2,petalLength:4.5,petalWidth:1.5,group:"versicolor"},{sepalLength:6.9,sepalWidth:3.1,petalLength:4.9,petalWidth:1.5,group:"versicolor"},{sepalLength:5.5,sepalWidth:2.3,petalLength:4,petalWidth:1.3,group:"versicolor"},{sepalLength:6.5,sepalWidth:2.8,petalLength:4.6,petalWidth:1.5,group:"versicolor"},{sepalLength:5.7,sepalWidth:2.8,petalLength:4.5,petalWidth:1.3,group:"versicolor"},{sepalLength:6.3,sepalWidth:3.3,petalLength:4.7,petalWidth:1.6,group:"versicolor"},{sepalLength:4.9,sepalWidth:2.4,petalLength:3.3,petalWidth:1,group:"versicolor"},{sepalLength:6.6,sepalWidth:2.9,petalLength:4.6,petalWidth:1.3,group:"versicolor"},{sepalLength:5.2,sepalWidth:2.7,petalLength:3.9,petalWidth:1.4,group:"versicolor"},{sepalLength:5,sepalWidth:2,petalLength:3.5,petalWidth:1,group:"versicolor"},{sepalLength:5.9,sepalWidth:3,petalLength:4.2,petalWidth:1.5,group:"versicolor"},{sepalLength:6,sepalWidth:2.2,petalLength:4,petalWidth:1,group:"versicolor"},{sepalLength:6.1,sepalWidth:2.9,petalLength:4.7,petalWidth:1.4,group:"versicolor"},{sepalLength:5.6,sepalWidth:2.9,petalLength:3.6,petalWidth:1.3,group:"versicolor"},{sepalLength:6.7,sepalWidth:3.1,petalLength:4.4,petalWidth:1.4,group:"versicolor"},{sepalLength:5.6,sepalWidth:3,petalLength:4.5,petalWidth:1.5,group:"versicolor"},{sepalLength:5.8,sepalWidth:2.7,petalLength:4.1,petalWidth:1,group:"versicolor"},{sepalLength:6.2,sepalWidth:2.2,petalLength:4.5,petalWidth:1.5,group:"versicolor"},{sepalLength:5.6,sepalWidth:2.5,petalLength:3.9,petalWidth:1.1,group:"versicolor"},{sepalLength:5.9,sepalWidth:3.2,petalLength:4.8,petalWidth:1.8,group:"versicolor"},{sepalLength:6.1,sepalWidth:2.8,petalLength:4,petalWidth:1.3,group:"versicolor"},{sepalLength:6.3,sepalWidth:2.5,petalLength:4.9,petalWidth:1.5,group:"versicolor"},{sepalLength:6.1,sepalWidth:2.8,petalLength:4.7,petalWidth:1.2,group:"versicolor"},{sepalLength:6.4,sepalWidth:2.9,petalLength:4.3,petalWidth:1.3,group:"versicolor"},{sepalLength:6.6,sepalWidth:3,petalLength:4.4,petalWidth:1.4,group:"versicolor"},{sepalLength:6.8,sepalWidth:2.8,petalLength:4.8,petalWidth:1.4,group:"versicolor"},{sepalLength:6.7,sepalWidth:3,petalLength:5,petalWidth:1.7,group:"versicolor"},{sepalLength:6,sepalWidth:2.9,petalLength:4.5,petalWidth:1.5,group:"versicolor"},{sepalLength:5.7,sepalWidth:2.6,petalLength:3.5,petalWidth:1,group:"versicolor"},{sepalLength:5.5,sepalWidth:2.4,petalLength:3.8,petalWidth:1.1,group:"versicolor"},{sepalLength:5.5,sepalWidth:2.4,petalLength:3.7,petalWidth:1,group:"versicolor"},{sepalLength:5.8,sepalWidth:2.7,petalLength:3.9,petalWidth:1.2,group:"versicolor"},{sepalLength:6,sepalWidth:2.7,petalLength:5.1,petalWidth:1.6,group:"versicolor"},{sepalLength:5.4,sepalWidth:3,petalLength:4.5,petalWidth:1.5,group:"versicolor"},{sepalLength:6,sepalWidth:3.4,petalLength:4.5,petalWidth:1.6,group:"versicolor"},{sepalLength:6.7,sepalWidth:3.1,petalLength:4.7,petalWidth:1.5,group:"versicolor"},{sepalLength:6.3,sepalWidth:2.3,petalLength:4.4,petalWidth:1.3,group:"versicolor"},{sepalLength:5.6,sepalWidth:3,petalLength:4.1,petalWidth:1.3,group:"versicolor"},{sepalLength:5.5,sepalWidth:2.5,petalLength:4,petalWidth:1.3,group:"versicolor"},{sepalLength:5.5,sepalWidth:2.6,petalLength:4.4,petalWidth:1.2,group:"versicolor"},{sepalLength:6.1,sepalWidth:3,petalLength:4.6,petalWidth:1.4,group:"versicolor"},{sepalLength:5.8,sepalWidth:2.6,petalLength:4,petalWidth:1.2,group:"versicolor"},{sepalLength:5,sepalWidth:2.3,petalLength:3.3,petalWidth:1,group:"versicolor"},{sepalLength:5.6,sepalWidth:2.7,petalLength:4.2,petalWidth:1.3,group:"versicolor"},{sepalLength:5.7,sepalWidth:3,petalLength:4.2,petalWidth:1.2,group:"versicolor"},{sepalLength:5.7,sepalWidth:2.9,petalLength:4.2,petalWidth:1.3,group:"versicolor"},{sepalLength:6.2,sepalWidth:2.9,petalLength:4.3,petalWidth:1.3,group:"versicolor"},{sepalLength:5.1,sepalWidth:2.5,petalLength:3,petalWidth:1.1,group:"versicolor"},{sepalLength:5.7,sepalWidth:2.8,petalLength:4.1,petalWidth:1.3,group:"versicolor"},{sepalLength:6.3,sepalWidth:3.3,petalLength:6,petalWidth:2.5,group:"virginica"},{sepalLength:5.8,sepalWidth:2.7,petalLength:5.1,petalWidth:1.9,group:"virginica"},{sepalLength:7.1,sepalWidth:3,petalLength:5.9,petalWidth:2.1,group:"virginica"},{sepalLength:6.3,sepalWidth:2.9,petalLength:5.6,petalWidth:1.8,group:"virginica"},{sepalLength:6.5,sepalWidth:3,petalLength:5.8,petalWidth:2.2,group:"virginica"},{sepalLength:7.6,sepalWidth:3,petalLength:6.6,petalWidth:2.1,group:"virginica"},{sepalLength:4.9,sepalWidth:2.5,petalLength:4.5,petalWidth:1.7,group:"virginica"},{sepalLength:7.3,sepalWidth:2.9,petalLength:6.3,petalWidth:1.8,group:"virginica"},{sepalLength:6.7,sepalWidth:2.5,petalLength:5.8,petalWidth:1.8,group:"virginica"},{sepalLength:7.2,sepalWidth:3.6,petalLength:6.1,petalWidth:2.5,group:"virginica"},{sepalLength:6.5,sepalWidth:3.2,petalLength:5.1,petalWidth:2,group:"virginica"},{sepalLength:6.4,sepalWidth:2.7,petalLength:5.3,petalWidth:1.9,group:"virginica"},{sepalLength:6.8,sepalWidth:3,petalLength:5.5,petalWidth:2.1,group:"virginica"},{sepalLength:5.7,sepalWidth:2.5,petalLength:5,petalWidth:2,group:"virginica"},{sepalLength:5.8,sepalWidth:2.8,petalLength:5.1,petalWidth:2.4,group:"virginica"},{sepalLength:6.4,sepalWidth:3.2,petalLength:5.3,petalWidth:2.3,group:"virginica"},{sepalLength:6.5,sepalWidth:3,petalLength:5.5,petalWidth:1.8,group:"virginica"},{sepalLength:7.7,sepalWidth:3.8,petalLength:6.7,petalWidth:2.2,group:"virginica"},{sepalLength:7.7,sepalWidth:2.6,petalLength:6.9,petalWidth:2.3,group:"virginica"},{sepalLength:6,sepalWidth:2.2,petalLength:5,petalWidth:1.5,group:"virginica"},{sepalLength:6.9,sepalWidth:3.2,petalLength:5.7,petalWidth:2.3,group:"virginica"},{sepalLength:5.6,sepalWidth:2.8,petalLength:4.9,petalWidth:2,group:"virginica"},{sepalLength:7.7,sepalWidth:2.8,petalLength:6.7,petalWidth:2,group:"virginica"},{sepalLength:6.3,sepalWidth:2.7,petalLength:4.9,petalWidth:1.8,group:"virginica"},{sepalLength:6.7,sepalWidth:3.3,petalLength:5.7,petalWidth:2.1,group:"virginica"},{sepalLength:7.2,sepalWidth:3.2,petalLength:6,petalWidth:1.8,group:"virginica"},{sepalLength:6.2,sepalWidth:2.8,petalLength:4.8,petalWidth:1.8,group:"virginica"},{sepalLength:6.1,sepalWidth:3,petalLength:4.9,petalWidth:1.8,group:"virginica"},{sepalLength:6.4,sepalWidth:2.8,petalLength:5.6,petalWidth:2.1,group:"virginica"},{sepalLength:7.2,sepalWidth:3,petalLength:5.8,petalWidth:1.6,group:"virginica"},{sepalLength:7.4,sepalWidth:2.8,petalLength:6.1,petalWidth:1.9,group:"virginica"},{sepalLength:7.9,sepalWidth:3.8,petalLength:6.4,petalWidth:2,group:"virginica"},{sepalLength:6.4,sepalWidth:2.8,petalLength:5.6,petalWidth:2.2,group:"virginica"},{sepalLength:6.3,sepalWidth:2.8,petalLength:5.1,petalWidth:1.5,group:"virginica"},{sepalLength:6.1,sepalWidth:2.6,petalLength:5.6,petalWidth:1.4,group:"virginica"},{sepalLength:7.7,sepalWidth:3,petalLength:6.1,petalWidth:2.3,group:"virginica"},{sepalLength:6.3,sepalWidth:3.4,petalLength:5.6,petalWidth:2.4,group:"virginica"},{sepalLength:6.4,sepalWidth:3.1,petalLength:5.5,petalWidth:1.8,group:"virginica"},{sepalLength:6,sepalWidth:3,petalLength:4.8,petalWidth:1.8,group:"virginica"},{sepalLength:6.9,sepalWidth:3.1,petalLength:5.4,petalWidth:2.1,group:"virginica"},{sepalLength:6.7,sepalWidth:3.1,petalLength:5.6,petalWidth:2.4,group:"virginica"},{sepalLength:6.9,sepalWidth:3.1,petalLength:5.1,petalWidth:2.3,group:"virginica"},{sepalLength:5.8,sepalWidth:2.7,petalLength:5.1,petalWidth:1.9,group:"virginica"},{sepalLength:6.8,sepalWidth:3.2,petalLength:5.9,petalWidth:2.3,group:"virginica"},{sepalLength:6.7,sepalWidth:3.3,petalLength:5.7,petalWidth:2.5,group:"virginica"},{sepalLength:6.7,sepalWidth:3,petalLength:5.2,petalWidth:2.3,group:"virginica"},{sepalLength:6.3,sepalWidth:2.5,petalLength:5,petalWidth:1.9,group:"virginica"},{sepalLength:6.5,sepalWidth:3,petalLength:5.2,petalWidth:2,group:"virginica"},{sepalLength:6.2,sepalWidth:3.4,petalLength:5.4,petalWidth:2.3,group:"virginica"},{sepalLength:5.9,sepalWidth:3,petalLength:5.1,petalWidth:1.8,group:"virginica"}];var L=a(708);let u=e=>{let{yScale:t,pixelsPerTick:a,name:p}=e,i=t.range(),s=(0,h.useMemo)(()=>{let e=i[0]-i[1];return t.ticks(Math.floor(e/a)).map(e=>({value:e,yOffset:t(e)}))},[t]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("text",{x:0,y:-25,style:{fontSize:"14px",textAnchor:"middle",fill:"black"},children:p}),(0,l.jsx)("line",{x1:0,x2:0,y1:0,y2:t(i[1]),stroke:"black",strokeWidth:.5}),s.map(e=>{let{value:t,yOffset:a}=e;return(0,l.jsxs)("g",{transform:"translate(0, ".concat(a,")"),shapeRendering:"crispEdges",children:[(0,l.jsx)("line",{x1:-3,x2:0,stroke:"black",strokeWidth:.5}),(0,l.jsx)("text",{style:{fontSize:"10px",textAnchor:"middle",alignmentBaseline:"central",transform:"translateX(-10px)"},children:t},t)]},t)})]})},v={top:60,right:40,bottom:30,left:40},x=["#e0ac2b","#e85252","#6689c6","#9a6fb0","#a53253","#69b3a2"],m=e=>{let{width:t,height:a,data:h,variables:p}=e,i=t-v.right-v.left,s=a-v.top-v.bottom,n=[...new Set(h.map(e=>e.group))],r=L.q2y().range([0,i]).domain(p).padding(0),d={};p.forEach(e=>{d[e]=L.BYU().range([s,0]).domain([0,8])});let o=L.PKp().domain(n).range(x),g=L.jvg(),c=h.map((e,t)=>{let a=p.map(t=>{var a;let l=d[t],h=null!==(a=r(t))&&void 0!==a?a:0,p=l(e[t]);return[h,p]}),h=g(a);if(h)return(0,l.jsx)("path",{d:h,stroke:o(e.group),fill:"none"},t)}),W=p.map((e,t)=>{let a=d[e];return(0,l.jsx)("g",{transform:"translate("+r(e)+",0)",children:(0,l.jsx)(u,{yScale:a,pixelsPerTick:40,name:e})},t)});return(0,l.jsx)("svg",{width:t,height:a,children:(0,l.jsxs)("g",{width:i,height:s,transform:"translate(".concat([v.left,v.top].join(","),")"),children:[c,W]})})},j=e=>{let{width:t=700,height:a=400}=e;return(0,l.jsx)(m,{data:W,width:t,height:a,variables:["petalLength","petalWidth","sepalLength","sepalWidth"]})};var b=a(9903);let f=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("p",{children:["A"," ",(0,l.jsx)("a",{href:"https://www.data-to-viz.com/graph/parallel.html",children:"parallel coordinate chart"})," ","is a type of visualization used to represent ",(0,l.jsx)("b",{children:"multivariate"})," data on a two-dimensional plane by plotting each variable as a separate axis arranged in ",(0,l.jsx)("b",{children:"parallel"}),", and then ",(0,l.jsx)("b",{children:"connecting"})," the data points with lines."," "]}),(0,l.jsxs)("p",{children:["This page is a step-by-step guide on how to build your own parallel coordinate chart for the web, using"," ",(0,l.jsx)("a",{href:"https://reactjs.org/",children:"React"})," (for rendering) and"," ",(0,l.jsx)("a",{href:"https://d3-graph-gallery.com/histogram",children:"D3.js"})," (to compute the axis, and shape coordinates)."]}),(0,l.jsxs)("p",{children:["It starts by describing how the ",(0,l.jsx)("b",{children:"data"})," should be organized and how to initialize the ",(0,l.jsx)("b",{children:"parallel coordinate component"}),". It then explains how to compute axis dynamically, and plot the lines and axis. Once this is done, it shows how to deal with scaling and how to add an interactive legend. \uD83D\uDE47‍♂️."]})]});function w(){return(0,l.jsxs)(p.A,{title:"Parallel Coordinate chart | React graph gallery",seoDescription:"A step-by-step guide on how to build your very own parallel coordinate react component from scratch. Comes with explanations, code sandboxes, and ready-to-use templates.",children:[(0,l.jsx)(i.Z,{title:(0,l.jsx)("h1",{children:"Parallel coordinates "}),description:f,chartType:"parallel"}),(0,l.jsx)("h2",{id:"data",children:"The Data"}),(0,l.jsxs)("p",{children:["The dataset provides several ",(0,l.jsx)("b",{children:"numeric"})," values for a set of data points. It can also add some ",(0,l.jsx)("b",{children:"categorical"})," variables that can be added to customize the marker colors."]}),(0,l.jsxs)("p",{children:["The suggested data structure is an array of ",(0,l.jsx)("code",{children:"object"}),", where each object is a data point. It can have as many numeric properties as needed."]}),(0,l.jsx)("br",{}),(0,l.jsx)("p",{children:"Here is a minimal example of the data structure:"}),(0,l.jsx)(n.d,{code:y}),(0,l.jsxs)("p",{children:["Note: this is the same data format as for a"," ",(0,l.jsx)(c(),{href:"/correlogram",children:"correlogram"})]}),(0,l.jsx)("h2",{id:"skeleton",children:"Component skeleton"}),(0,l.jsxs)("p",{children:["The goal here is to create a ",(0,l.jsx)("code",{children:"ParallelCoordinate"})," component that will be stored in a ",(0,l.jsx)("code",{children:"ParallelCoordinate.tsx"})," file. This component requires 4 props to render: a ",(0,l.jsx)("code",{children:"width"}),", a"," ",(0,l.jsx)("code",{children:"height"}),", some ",(0,l.jsx)("code",{children:"data"})," and an array providing the name of the variables to display."]}),(0,l.jsxs)("p",{children:["The shape of the ",(0,l.jsx)("code",{children:"data"})," is described above. The"," ",(0,l.jsx)("code",{children:"width"})," and ",(0,l.jsx)("code",{children:"height"})," will be used to render an"," ",(0,l.jsx)("code",{children:"svg"})," element in the DOM, in which we will insert the histogram."]}),(0,l.jsxs)("p",{children:["To put it in a nutshell, that's the skeleton of our"," ",(0,l.jsx)("code",{children:"ParallelCoordinate"})," component:"]}),(0,l.jsx)(n.d,{code:k}),(0,l.jsxs)("p",{children:["It's fundamental to understand that with this code organization, d3.js will be used to prepare the SVG ",(0,l.jsx)("code",{children:"circle"}),", but it's React that will render them in the ",(0,l.jsx)("code",{children:"return()"})," statement. We won't use d3 methods like ",(0,l.jsx)("code",{children:"append"})," that you can find in usual"," ",(0,l.jsx)("a",{href:"https://www.d3-graph-gallery.com",children:"d3.js examples"}),"."]}),(0,l.jsx)("h2",{id:"Scales",children:"Scales and Axes"}),(0,l.jsxs)("p",{children:["Building a parallel coordinate charts requires several ",(0,l.jsx)("b",{children:"scales"})," and"," ",(0,l.jsx)("b",{children:"axes"}),"."]}),(0,l.jsxs)("p",{children:["D3.js comes with a handful set of"," ",(0,l.jsx)("a",{href:"https://github.com/d3/d3-scale",children:"predefined scales"}),"."," ",(0,l.jsx)("code",{children:"scalePoint"})," and ",(0,l.jsx)("code",{children:"scaleLinear"})," are the ones we are goint to use here."]}),(0,l.jsx)("h3",{children:"→ X Scale"}),(0,l.jsxs)("p",{children:["We need only 1 X scale. This scale is gonna provide a position in pixels for each variable name of the dataset. Remember that a parallel coordinate chart displays several vertical lines, one per variable. The X scale is displayed ",(0,l.jsx)("b",{children:"horizontally"}),". It covers the"," ",(0,l.jsx)("code",{children:"width"})," of the ",(0,l.jsx)("code",{children:"svg"})," container, and its domain goes from the ",(0,l.jsx)("code",{children:"min"})," to the ",(0,l.jsx)("code",{children:"max"})," of the dataset."]}),(0,l.jsx)(n.d,{code:S}),(0,l.jsx)("h3",{children:"→ Y Scale"}),(0,l.jsxs)("p",{children:["The Y scale is displayed ",(0,l.jsx)("b",{children:"vertically"}),". It shows how many items are available in each bin. To compute it you need to find the bucket with the highest number of items. Something like:"]}),(0,l.jsx)(n.d,{code:T}),(0,l.jsx)(r.$,{VizComponent:b.H,vizName:"ParallelCoordinateAxesOnly",maxWidth:600,height:400,caption:"Values of the dataset as distributed into bins. Bins are represented as rectangles. Data wrangling is made with d3.js, rendering with react."}),(0,l.jsx)("h2",{id:"bars",children:"Drawing the lines"}),(0,l.jsx)("p",{children:"Finally! ✨"}),(0,l.jsxs)("p",{children:["We can now ",(0,l.jsx)("code",{children:"map"})," through the bucket object and draw a"," ",(0,l.jsx)("b",{children:"rectangle"})," per bucket thanks to the scales computed above."]}),(0,l.jsx)("p",{children:"The code looks like this:"}),(0,l.jsx)(n.d,{code:P}),(0,l.jsxs)("p",{children:["Remember that the ",(0,l.jsx)("code",{children:"x"})," and ",(0,l.jsx)("code",{children:"y"})," attributes of the svg ",(0,l.jsx)("code",{children:"rect"})," element provide the x and y position of the top left corner of the rectangle (see"," ",(0,l.jsx)("a",{href:"https://developer.mozilla.org/en-US/docs/Web/SVG/Element/rect",children:"doc"}),"). This is why the rectangle ",(0,l.jsx)("code",{children:"height"})," is computed by subtracting ",(0,l.jsx)("code",{children:"yScale(bucket.length)"})," from the total"," ",(0,l.jsx)("code",{children:"height"}),"."]}),(0,l.jsx)("br",{}),(0,l.jsx)(r.$,{VizComponent:j,vizName:"ParallelCoordinateBasic",maxWidth:600,height:400,caption:"Values of the dataset as distributed into bins. Bins are represented as rectangles. Data wrangling is made with d3.js, rendering with react."}),(0,l.jsx)(o.r,{chartId:"parallel"}),(0,l.jsx)(d.Z,{chartId:"parallel"}),(0,l.jsx)("div",{className:"full-bleed border-t h-0 bg-gray-100 mb-3 mt-24"}),(0,l.jsx)(s.Z,{chartFamily:"ranking"}),(0,l.jsx)("div",{className:"mt-20"})]})}let y="\nconst data = [\n  {var1: 5.1, var2: 3.5, ..., group: 'setosa'},\n  {var1: 4.9, var2: 3.0, ..., group: 'setosa'},\n  ...\n]\n".trim(),k='\nimport * as d3 from "d3"; // we will need d3.js\n\ntype DataItem = {\n  [variable: string]: number;\n} & { group: string };\n\n\ntype ParallelCoordinateProps = {\n  width: number;\n  height: number;\n  data: DataItem[];\n  variables: string[]\n};\n\nexport const ParallelCoordinate = ({ width, height, data, variables }: ParallelCoordinateProps) => {\n\n  // read the data & get a list of groups\n  // build X scale\n  // build Y scales: 1 per variable\n  // build color scales\n  // loop through variables to add axes\n  // loop through data items and through variables to draw lines\n\n  return (\n    <div>\n      <svg width={width} height={height}>\n        // render all the <lines>\n      </svg>\n    </div>\n  );\n};\n'.trim(),S="\nconst xScale = d3\n  .scalePoint<Variable>()\n  .range([0, boundsWidth])\n  .domain(variables)\n  .padding(0);\n".trim(),T="\nconst yScale = useMemo(() => {\n\n  const max = Math.max(...buckets.map((bucket) => bucket?.length));\n\n  return d3.scaleLinear()\n    .range([height, 0])\n    .domain([0, max]);\n\n  }, [data, height]);\n".trim(),P='\nconst allRects = buckets.map((bucket, i) => {\n  return (\n    <rect\n      key={i}\n      fill="#69b3a2"\n      stroke="black"\n      x={xScale(bucket.x0)}\n      width={xScale(bucket.x1) - xScale(bucket.x0)}\n      y={yScale(bucket.length)}\n      height={height - yScale(bucket.length)}\n    />\n  );\n});\n'.trim()}},function(e){e.O(0,[3996,708,5660,645,1188,687,9774,2888,179],function(){return e(e.s=9465)}),_N_E=e.O()}]);